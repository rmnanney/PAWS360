---
# Ansible-lint configuration for PAWS360 project
# Custom rules and exclusions for AdminLTE deployment

# Exclude problematic external roles
exclude_paths:
  - .ansible/
  - roles/.ansible/

# Skip certain rules that are not applicable or too strict
skip_list:
  - syntax-check  # We handle this separately
  - jinja[invalid]  # We have template issues to fix
  - package-latest  # Latest is acceptable for development
  - risky-file-permissions  # We set appropriate permissions
  - risky-shell-pipe  # Shell pipes are necessary for some checks
  - ignore-errors  # Sometimes necessary for rollback scenarios
  - no-changed-when  # Not all commands need changed_when
  - no-handler  # Some tasks are intentionally not handlers
  - run-once  # run_once is appropriate for some tasks
  - args[module]  # npm module parameters are valid
  - partial-become  # become/become_user are properly configured

# Enable additional rules
enable_list:
  - fqcn  # Ensure FQCN usage
  - yaml  # YAML formatting
  - name  # Task naming conventions

# Custom rules configuration
rules:
  fqcn:
    # Allow legacy FQCN for backward compatibility during migration
    action_groups:
      legacy: ["ansible.legacy"]
  yaml:
    # Be strict about YAML formatting
    trailing-spaces: true
    new-line-at-end-of-file: true
  name:
    # Enforce proper naming
    casing: "upper"