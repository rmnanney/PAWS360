# Analytics Service Environment Variables
# Configuration for AdminLTE analytics and reporting service

# Database Configuration (Read Replica)
POSTGRES_HOST={{ postgres_read_host | default(postgres_host) | default('localhost') }}
POSTGRES_PORT={{ postgres_port | default('5432') }}
POSTGRES_DB={{ postgres_db | default('adminlte') }}
POSTGRES_USER={{ postgres_user | default('adminlte') }}
POSTGRES_PASSWORD={{ postgres_password }}

# Redis Configuration
REDIS_HOST={{ redis_host | default('localhost') }}
REDIS_PORT={{ redis_port | default('6379') }}
REDIS_PASSWORD={{ redis_password | default('') }}

# Data Service Configuration
DATA_SERVICE_URL={{ data_service_url | default('http://localhost:8082') }}

# Application Configuration
SPRING_PROFILES_ACTIVE={{ spring_profiles | default('production') }}
JAVA_OPTS={{ java_opts | default('-Xmx768m -Xms256m') }}
LOG_LEVEL={{ log_level | default('INFO') }}

# Analytics Configuration
ANALYTICS_CACHE_TTL={{ analytics_cache_ttl | default('1800') }}
ANALYTICS_BATCH_SIZE={{ analytics_batch_size | default('1000') }}
ANALYTICS_REFRESH_INTERVAL={{ analytics_refresh_interval | default('300') }}

# Connection Pool Configuration (Read-Only)
HIKARI_MAX_POOL_SIZE={{ analytics_pool_size | default('10') }}
HIKARI_MIN_IDLE=2
HIKARI_IDLE_TIMEOUT=300000
HIKARI_MAX_LIFETIME=600000
HIKARI_CONNECTION_TIMEOUT=30000

# Service Configuration
ANALYTICS_SERVICE_PORT={{ analytics_service_port | default('8083') }}